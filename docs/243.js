"use strict";(self.webpackChunkrust_webpack_template=self.webpackChunkrust_webpack_template||[]).push([[243],{243:(e,t,n)=>{n.r(t);var r=n(838);const o=window.location.search;let s=new URLSearchParams(o);var _=101;s.has("seed")&&(_=parseInt(s.get("seed")));var u=void 0,i=["#FFDDDD","#FFFFCF","#D9FFDF","#D9FFFF"];function c(e,t,n){console.log(t);const r=e.insertRow(-1);r.insertCell(-1);for(let e of t.clues)r.insertCell(-1).innerHTML="<b>"+e+"</b>";const o=turn_table_body.insertRow(-1);o.insertCell(-1).innerHTML="Secret";for(let e of t.message){const t=o.insertCell(-1);n?t.innerHTML="???":(t.innerHTML=e.toString(),t.style.backgroundColor=i[e])}if(null!=t.player_guess){const e=turn_table_body.insertRow(-1);e.insertCell(-1).innerHTML="Guess";for(let n of t.player_guess)e.insertCell(-1).innerHTML=n.toString()}if(n){const e=turn_table_body.insertRow(-1);e.insertCell(-1).innerHTML="Guess";for(let t=0;t<3;t++){e.insertCell(-1).innerHTML='<input type="text" id="input_'+t.toString()+'" inputmode="numeric" pattern="[1-4]"></input>';let n=document.getElementById("input_"+t.toString());n.addEventListener("input",a(n))}}}function l(e){if(e){let e=parseInt(document.getElementById("input_0").value),t=parseInt(document.getElementById("input_1").value),n=parseInt(document.getElementById("input_2").value);u.next_turn(e,t,n)}else u.next_turn_noguess();const t=u.correct_guess_count();let n=JSON.parse(u.get_past_turns_json()),r=null;if(t<2&&(r=JSON.parse(u.get_current_turn_json())),function(e,t){const n=document.getElementById("turn_table_body");n.innerHTML="";for(let t of e)c(n,t,!1);null!=t&&c(n,t,!0)}(n,r),2==t){document.getElementById("correct_guess_count").innerHTML="You won in "+n.length+" turns!";const e=document.getElementById("secret_words").insertRow(-1),t=JSON.parse(u.get_secret_words());e.insertCell(-1).innerHTML="Secret words: ";for(let n of t)e.insertCell(-1).innerHTML=n}else document.getElementById("correct_guess_count").innerHTML="Correct Guesses "+t.toString()+"/2"}function a(e){return()=>{let t=e.value;var n;e.value=((n=t).length>1&&(n=n.substr(0,1)),1==n.length&&(n[0]<"0"||n[0]>"2")?"":n)}}fetch("glove_filtered.embspace").then((e=>e.blob())).then((e=>e.arrayBuffer())).then((e=>{const t=new Uint8Array(e);(u=new r.KU(t)).new_game(_),u.next_turn_noguess(),u.next_turn_noguess(),l(!1),document.getElementById("submit").addEventListener("click",(()=>{console.log("click"),l(!0)}))}))},838:(e,t,n)=>{n.d(t,{KU:()=>b,h4:()=>y,r2:()=>h,ug:()=>m,Ih:()=>v,yq:()=>T,gk:()=>k,Or:()=>I});var r=n(373);e=n.hmd(e);let o=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});o.decode();let s=null;function _(){return null!==s&&s.buffer===r.memory.buffer||(s=new Uint8Array(r.memory.buffer)),s}function u(e,t){return o.decode(_().subarray(e,e+t))}const i=new Array(32).fill(void 0);i.push(void 0,null,!0,!1);let c=i.length;function l(e){c===i.length&&i.push(i.length+1);const t=c;return c=i[t],i[t]=e,t}function a(e){return i[e]}let d=0,f=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8");const g="function"==typeof f.encodeInto?function(e,t){return f.encodeInto(e,t)}:function(e,t){const n=f.encode(e);return t.set(n),{read:e.length,written:n.length}};let p=null;function w(){return null!==p&&p.buffer===r.memory.buffer||(p=new Int32Array(r.memory.buffer)),p}class b{static __wrap(e){const t=Object.create(b.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_client_free(e)}constructor(e){var t=function(e,t){const n=t(1*e.length);return _().set(e,n/1),d=e.length,n}(e,r.__wbindgen_malloc),n=d,o=r.client_new(t,n);return b.__wrap(o)}new_game(e){r.client_new_game(this.ptr,e)}next_turn(e,t,n){r.client_next_turn(this.ptr,e,t,n)}next_turn_noguess(){r.client_next_turn_noguess(this.ptr)}get_current_turn_json(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.client_get_current_turn_json(n,this.ptr);var e=w()[n/4+0],t=w()[n/4+1];return u(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}get_past_turns_json(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.client_get_past_turns_json(n,this.ptr);var e=w()[n/4+0],t=w()[n/4+1];return u(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}correct_guess_count(){return r.client_correct_guess_count(this.ptr)>>>0}get_secret_words(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.client_get_secret_words(n,this.ptr);var e=w()[n/4+0],t=w()[n/4+1];return u(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}}function y(e,t){return l(u(e,t))}function h(e){console.log(a(e))}function m(e){!function(e){const t=a(e);(function(e){e<36||(i[e]=c,c=e)})(e)}(e)}function v(){return l(new Error)}function T(e,t){var n=function(e,t,n){if(void 0===n){const n=f.encode(e),r=t(n.length);return _().subarray(r,r+n.length).set(n),d=n.length,r}let r=e.length,o=t(r);const s=_();let u=0;for(;u<r;u++){const t=e.charCodeAt(u);if(t>127)break;s[o+u]=t}if(u!==r){0!==u&&(e=e.slice(u)),o=n(o,r,r=u+3*e.length);const t=_().subarray(o+u,o+r);u+=g(e,t).written}return d=u,o}(a(t).stack,r.__wbindgen_malloc,r.__wbindgen_realloc),o=d;w()[e/4+1]=o,w()[e/4+0]=n}function k(e,t){try{console.error(u(e,t))}finally{r.__wbindgen_free(e,t)}}function I(e,t){throw new Error(u(e,t))}},373:(e,t,n)=>{var r=n.w[e.id];e.exports=r,n(838),r[""]()}}]);